# cron_tasks/curfew_release.rb
require_relative '../professor_control'

CURFEW_RELEASE_MESSAGES = [
  "좋은 아침입니다. 통금이 해제되었습니다. 새로운 하루를 시작해보세요.",
  "아침이 밝았네요. 이제 자유롭게 움직이실 수 있습니다.",
  "통금 시간이 끝났습니다. 상쾌한 아침 공기를 마셔보세요.",
  "새벽 통금이 해제되었습니다. 오늘도 좋은 하루 되세요.",
  "아침 햇살과 함께 통금이 해제되었습니다. 활기찬 하루 시작하세요.",
  "밤새 푹 주무셨나요? 이제 마음껏 돌아다니셔도 됩니다.",
  "새벽이 지나고 아침이 왔어요. 통금 해제와 함께 자유를 만끽하세요.",
  "기숙사 문이 다시 열렸습니다. 오늘 하루도 건강하게 시작해요.",
  "통금이 풀렸어요. 아침 산책이라도 나가보시는 건 어떨까요?",
  "새로운 하루의 문이 열렸습니다. 어디든 자유롭게 다니세요.",
  "밤이 지나고 낮이 시작됩니다. 통금 해제로 하루를 열어보세요.",
  "아침 새소리와 함께 통금도 해제되었어요. 기분 좋은 하루 되세요.",
  "숙면은 취하셨나요? 이제 활동할 시간입니다. 통금이 해제되었어요.",
  "해가 떠오르면서 통금도 함께 사라졌어요. 마음껏 움직이세요.",
  "기숙사 밖 세상이 여러분을 기다리고 있어요. 통금이 해제되었습니다.",
  "통금 시간이 끝나고 자유 시간이 시작되었어요. 즐거운 하루 보내세요.",
  "아침 공기가 맑네요. 통금 해제와 함께 깊게 숨 쉬어보세요.",
  "새벽 정적이 지나고 활기찬 시간이 시작됩니다. 통금이 해제되었어요.",
  "기숙사 복도에 다시 발걸음 소리가 들려도 좋을 시간이에요.",
  "밤의 규칙이 끝나고 낮의 자유가 시작됩니다. 통금 해제되었어요.",
  "창밖으로 아침빛이 스며들어요. 이제 마음껏 나다니셔도 됩니다.",
  "통금이라는 보호막이 걷히고 새로운 모험이 시작될 시간이에요.",
  "밤새 안전하게 지켜드렸어요. 이제는 자유롭게 활동하세요.",
  "아침이 되어 통금의 끈이 풀렸습니다. 오늘 하루 마음껏 즐기세요.",
  "새벽 안개가 걷히듯 통금도 함께 걷혔어요. 상쾌한 하루 되세요.",
  "기숙사를 벗어나 넓은 세상으로 나갈 시간입니다. 통금이 해제되었어요.",
  "밤의 조용함에서 낮의 활기로 바뀌는 시간이에요. 자유롭게 움직이세요.",
  "통금 해제로 하루의 진짜 시작을 알려드려요. 좋은 하루 되세요.",
  "아침 해가 떠오르며 모든 제약도 함께 사라졌어요. 자유를 만끽하세요.",
  "새로운 하루, 새로운 자유가 시작됩니다. 통금이 해제되었어요."
]

def run_curfew_release(sheet_manager, mastodon_client)
  unless auto_push_enabled?(sheet_manager, "통금 해제 알람")
    puts "[스킵] 통금 해제 알람 기능이 OFF 상태입니다."
    return
  end

  message = CURFEW_RELEASE_MESSAGES.sample
  mastodon_client.broadcast(message)
end
